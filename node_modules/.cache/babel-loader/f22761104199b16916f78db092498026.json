{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bozda\\\\Desktop\\\\bureau perso\\\\p7 oc\\\\P7-Kasa-main\\\\src\\\\pages\\\\FicheLogement\\\\FicheLogement.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Carrousel from \"../../components/Carrousel/Carrousel\";\nimport Collapse from \"../../components/Collapse/Collapse\";\nimport Host from \"../../components/Host/Host\";\nimport Rate from \"../../components/Rate/Rate\";\nimport Tag from \"../../components/Tag/Tag\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FicheLogement() {\n  _s();\n  const params = useParams();\n  const navigate = useNavigate();\n  const [pickedAppart, setPickedAppart] = useState();\n  useEffect(() => {\n    const getData = async () => {\n      const res = await axios.get(\"/logements.json\"); //j'ai préféré utiliser une requète AXIOS pour être prêt à la future mise en place de l'API\n      console.log(res);\n      const picked = res.data.find(_ref => {\n        let {\n          id\n        } = _ref;\n        return id === params.id;\n      });\n      res.data.map(() => setPickedAppart(picked));\n      if (picked === undefined) {\n        navigate(\"/404\", {\n          state: {\n            message: \"Can't get data\"\n          }\n        }); //renvoi vers la page 404 en cas d'URL de logement invalide\n      }\n    };\n\n    getData();\n\n    // eslint-disable-next-line\n  }, []); // array vide du useEffect pour ne lancer qu'une seule fois\n  const slidePics = pickedAppart && pickedAppart.pictures;\n  const tags = pickedAppart && pickedAppart.tags;\n  const equipments = pickedAppart && pickedAppart.equipments;\n  const equip = pickedAppart && equipments.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"equipList\",\n    children: item\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 4\n  }, this));\n  return pickedAppart && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fiche-container\",\n    children: [/*#__PURE__*/_jsxDEV(Carrousel, {\n      slides: slidePics\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hostInfo-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-tags-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title-container redFont\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: pickedAppart.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: pickedAppart.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tags-container\",\n          children: tags.map(tag => /*#__PURE__*/_jsxDEV(Tag, {\n            tag: tag\n          }, tag, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rate-host-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"host-container redFont\",\n          children: /*#__PURE__*/_jsxDEV(Host, {\n            hostName: pickedAppart.host.name,\n            hostPic: pickedAppart.host.picture\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rate-container\",\n          children: /*#__PURE__*/_jsxDEV(Rate, {\n            score: pickedAppart.rating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"collapse-fiche-container\",\n      children: [/*#__PURE__*/_jsxDEV(Collapse, {\n        aboutTitle: \"Description\",\n        aboutText: pickedAppart.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n        aboutTitle: \"\\xC9quipements\",\n        aboutText: equip\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this)]\n  }, params.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 4\n  }, this);\n}\n_s(FicheLogement, \"/xvUYJ4s3SzzzmSTLYZX5aB0EPk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = FicheLogement;\nvar _c;\n$RefreshReg$(_c, \"FicheLogement\");","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","Carrousel","Collapse","Host","Rate","Tag","axios","FicheLogement","params","navigate","pickedAppart","setPickedAppart","getData","res","get","console","log","picked","data","find","id","map","undefined","state","message","slidePics","pictures","tags","equipments","equip","item","index","title","location","tag","host","name","picture","rating","description"],"sources":["C:/Users/bozda/Desktop/bureau perso/p7 oc/P7-Kasa-main/src/pages/FicheLogement/FicheLogement.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport Carrousel from \"../../components/Carrousel/Carrousel\";\nimport Collapse from \"../../components/Collapse/Collapse\";\nimport Host from \"../../components/Host/Host\";\nimport Rate from \"../../components/Rate/Rate\";\nimport Tag from \"../../components/Tag/Tag\";\nimport axios from \"axios\";\n\nexport default function FicheLogement() {\n\tconst params = useParams();\n\tconst navigate = useNavigate();\n\n\tconst [pickedAppart, setPickedAppart] = useState();\n\tuseEffect(() => {\n\t\tconst getData = async () => {\n\t\t\tconst res = await axios.get(\"/logements.json\"); //j'ai préféré utiliser une requète AXIOS pour être prêt à la future mise en place de l'API\n\t\t\tconsole.log(res);\n\t\t\tconst picked = res.data.find(({ id }) => id === params.id);\n\t\t\t\n\t\t\tres.data.map(() => setPickedAppart(picked));\n\t\t\tif (picked === undefined) {\n\t\t\t\tnavigate(\"/404\", { state: { message: \"Can't get data\" } }); //renvoi vers la page 404 en cas d'URL de logement invalide\n\t\t\t}\n\t\t};\n\t\tgetData();\n\n\t\t// eslint-disable-next-line\n\t}, []); // array vide du useEffect pour ne lancer qu'une seule fois\n\tconst slidePics = pickedAppart && pickedAppart.pictures;\n\tconst tags = pickedAppart && pickedAppart.tags;\n\tconst equipments = pickedAppart && pickedAppart.equipments;\n\tconst equip =\n\t\tpickedAppart &&\n\t\tequipments.map((item, index) => (\n\t\t\t<li key={index} className=\"equipList\">\n\t\t\t\t{item}\n\t\t\t</li>\n\t\t));\n\treturn (\n\t\tpickedAppart && (\n\t\t\t<div key={params.id} className=\"fiche-container\">\n\t\t\t\t<Carrousel slides={slidePics} />\n\t\t\t\t<section className=\"hostInfo-container\">\n\t\t\t\t\t<div className=\"title-tags-container\">\n\t\t\t\t\t\t<div className=\"title-container redFont\">\n\t\t\t\t\t\t\t<h1>{pickedAppart.title}</h1>\n\t\t\t\t\t\t\t<h3>{pickedAppart.location}</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"tags-container\">\n\t\t\t\t\t\t\t{tags.map((tag) => (\n\t\t\t\t\t\t\t\t<Tag key={tag} tag={tag} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"rate-host-container\">\n\t\t\t\t\t\t<div className=\"host-container redFont\">\n\t\t\t\t\t\t\t<Host\n\t\t\t\t\t\t\t\thostName={pickedAppart.host.name}\n\t\t\t\t\t\t\t\thostPic={pickedAppart.host.picture}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"rate-container\">\n\t\t\t\t\t\t\t<Rate score={pickedAppart.rating} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<div className=\"collapse-fiche-container\">\n\t\t\t\t\t<Collapse\n\t\t\t\t\t\taboutTitle=\"Description\"\n\t\t\t\t\t\taboutText={pickedAppart.description}\n\t\t\t\t\t/>\n\t\t\t\t\t<Collapse aboutTitle=\"Équipements\" aboutText={equip} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t);\n}\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,SAAS,MAAM,sCAAsC;AAC5D,OAAOC,QAAQ,MAAM,oCAAoC;AACzD,OAAOC,IAAI,MAAM,4BAA4B;AAC7C,OAAOC,IAAI,MAAM,4BAA4B;AAC7C,OAAOC,GAAG,MAAM,0BAA0B;AAC1C,OAAOC,KAAK,MAAM,OAAO;AAAC;AAE1B,eAAe,SAASC,aAAa,GAAG;EAAA;EACvC,MAAMC,MAAM,GAAGT,SAAS,EAAE;EAC1B,MAAMU,QAAQ,GAAGT,WAAW,EAAE;EAE9B,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,EAAE;EAClDC,SAAS,CAAC,MAAM;IACf,MAAMc,OAAO,GAAG,YAAY;MAC3B,MAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC;MAChDC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAChB,MAAMI,MAAM,GAAGJ,GAAG,CAACK,IAAI,CAACC,IAAI,CAAC;QAAA,IAAC;UAAEC;QAAG,CAAC;QAAA,OAAKA,EAAE,KAAKZ,MAAM,CAACY,EAAE;MAAA,EAAC;MAE1DP,GAAG,CAACK,IAAI,CAACG,GAAG,CAAC,MAAMV,eAAe,CAACM,MAAM,CAAC,CAAC;MAC3C,IAAIA,MAAM,KAAKK,SAAS,EAAE;QACzBb,QAAQ,CAAC,MAAM,EAAE;UAAEc,KAAK,EAAE;YAAEC,OAAO,EAAE;UAAiB;QAAE,CAAC,CAAC,CAAC,CAAC;MAC7D;IACD,CAAC;;IACDZ,OAAO,EAAE;;IAET;EACD,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;EACR,MAAMa,SAAS,GAAGf,YAAY,IAAIA,YAAY,CAACgB,QAAQ;EACvD,MAAMC,IAAI,GAAGjB,YAAY,IAAIA,YAAY,CAACiB,IAAI;EAC9C,MAAMC,UAAU,GAAGlB,YAAY,IAAIA,YAAY,CAACkB,UAAU;EAC1D,MAAMC,KAAK,GACVnB,YAAY,IACZkB,UAAU,CAACP,GAAG,CAAC,CAACS,IAAI,EAAEC,KAAK,kBAC1B;IAAgB,SAAS,EAAC,WAAW;IAAA,UACnCD;EAAI,GADGC,KAAK;IAAA;IAAA;IAAA;EAAA,QAGd,CAAC;EACH,OACCrB,YAAY,iBACX;IAAqB,SAAS,EAAC,iBAAiB;IAAA,wBAC/C,QAAC,SAAS;MAAC,MAAM,EAAEe;IAAU;MAAA;MAAA;MAAA;IAAA,QAAG,eAChC;MAAS,SAAS,EAAC,oBAAoB;MAAA,wBACtC;QAAK,SAAS,EAAC,sBAAsB;QAAA,wBACpC;UAAK,SAAS,EAAC,yBAAyB;UAAA,wBACvC;YAAA,UAAKf,YAAY,CAACsB;UAAK;YAAA;YAAA;YAAA;UAAA,QAAM,eAC7B;YAAA,UAAKtB,YAAY,CAACuB;UAAQ;YAAA;YAAA;YAAA;UAAA,QAAM;QAAA;UAAA;UAAA;UAAA;QAAA,QAC3B,eACN;UAAK,SAAS,EAAC,gBAAgB;UAAA,UAC7BN,IAAI,CAACN,GAAG,CAAEa,GAAG,iBACb,QAAC,GAAG;YAAW,GAAG,EAAEA;UAAI,GAAdA,GAAG;YAAA;YAAA;YAAA;UAAA,QACb;QAAC;UAAA;UAAA;UAAA;QAAA,QACG;MAAA;QAAA;QAAA;QAAA;MAAA,QACD,eACN;QAAK,SAAS,EAAC,qBAAqB;QAAA,wBACnC;UAAK,SAAS,EAAC,wBAAwB;UAAA,uBACtC,QAAC,IAAI;YACJ,QAAQ,EAAExB,YAAY,CAACyB,IAAI,CAACC,IAAK;YACjC,OAAO,EAAE1B,YAAY,CAACyB,IAAI,CAACE;UAAQ;YAAA;YAAA;YAAA;UAAA;QAClC;UAAA;UAAA;UAAA;QAAA,QACG,eACN;UAAK,SAAS,EAAC,gBAAgB;UAAA,uBAC9B,QAAC,IAAI;YAAC,KAAK,EAAE3B,YAAY,CAAC4B;UAAO;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QAC/B;MAAA;QAAA;QAAA;QAAA;MAAA,QACD;IAAA;MAAA;MAAA;MAAA;IAAA,QACG,eACV;MAAK,SAAS,EAAC,0BAA0B;MAAA,wBACxC,QAAC,QAAQ;QACR,UAAU,EAAC,aAAa;QACxB,SAAS,EAAE5B,YAAY,CAAC6B;MAAY;QAAA;QAAA;QAAA;MAAA,QACnC,eACF,QAAC,QAAQ;QAAC,UAAU,EAAC,gBAAa;QAAC,SAAS,EAAEV;MAAM;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA,QAClD;EAAA,GAhCGrB,MAAM,CAACY,EAAE;IAAA;IAAA;IAAA;EAAA,QAkCnB;AAEH;AAAC,GApEuBb,aAAa;EAAA,QACrBR,SAAS,EACPC,WAAW;AAAA;AAAA,KAFLO,aAAa;AAAA;AAAA"},"metadata":{},"sourceType":"module"}